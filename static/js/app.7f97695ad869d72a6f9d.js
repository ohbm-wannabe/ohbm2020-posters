webpackJsonp([1],{"+U6v":function(t,e,s){t.exports=s.p+"static/img/datalad_logo.d0cfaa1.svg"},"42HU":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.data.match,expression:"data.match"}],staticClass:"poster"},[t.data.visible?s("div",[s("h3",{staticClass:"number"},[s("b-badge",{attrs:{variant:"light"}},[t._v(t._s(t.data.number))])],1),t._v(" "),s("b-button",{staticClass:"chatbutton",class:{online:t.data.people>0},attrs:{variant:"primary",size:"sm"},on:{click:t.openChat}},[t._v("\n            Video Chat "),t.data.people>0?s("span",[t._v(" ("+t._s(t.data.people)+" people online)")]):t._e()]),t._v(" "),s("p",{staticClass:"pdf"},[t.data.pdf?s("a",{attrs:{href:t.data.pdf,target:"pdf_"+t.data.number}},[s("span",{staticClass:"openpdflabel"},[t._v("Open PDF")]),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.$root.thumbsUrl+"/"+t.data.number+".x200.jpg",expression:"$root.thumbsUrl+'/'+data.number+'.x200.jpg'"}],staticClass:"thumbnail",attrs:{height:"200px","data-error":"$root.thumbsUrl+'/'+noposter.jpg"}})]):t._e(),t._v(" "),s("a",{attrs:{href:"https://github.com/datalad-datasets/ohbm2020-posters/edit/gh-pages/posters-overrides.json"}},[t.data.pdf?t._e():s("div",{staticClass:"pdfmissing"},[t._v("\n                        We couldn't find your PDF!\n                        Please edit overrides.json and send us the PR.\n                ")])])]),t._v(" "),t.data.isDemo?s("b-badge",{attrs:{variant:"danger"}},[t._v("Software DEMO")]):t._e(),t._v(" "),s("span",{staticClass:"title"},[s("i",[t._v(t._s(t.data.title))])]),t._v(" "),s("br"),t._v(" "),t._l(t.data.categories,function(e,a){return s("div",{key:a,staticClass:"cat clickable",on:{click:function(s){return t.addCat(e)}}},[s("span",{staticClass:"catbull",style:{backgroundColor:t.catColor(e)}},[t._v("Â ")]),t._v(" "+t._s(e)+"\n        ")])}),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"presenter clickable",on:{click:function(e){return t.addToken(t.data.presenter)}}},[t._v(t._s(t.data.presenter))]),t._v(" -\n        "),s("div",{staticClass:"insts",staticStyle:{display:"inline-block"}},t._l(t.data.institution,function(e,a){return s("span",{key:a,staticClass:"inst clickable",on:{click:function(s){return t.addToken(e)}}},[a>0?s("small",{staticStyle:{opacity:"0.5"}},[t._v("|")]):t._e(),t._v("\n                "+t._s(e)+" \n            ")])}),0),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"authors"},t._l(t.data.authors,function(e,a){return s("span",{key:a,staticClass:"author clickable",on:{click:function(s){return t.addToken(e)}}},[a>0?s("small",{staticStyle:{opacity:"0.5"}},[t._v("|")]):t._e(),t._v("\n                "+t._s(e)+"\n            ")])}),0),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"isdemo"},[t._v(t._s(t.data.isdemo))]),t._v(" "),s("br")],2):t._e()])},staticRenderFns:[]};e.a=a},"7QTI":function(t,e,s){"use strict";var a=s("cTcK"),i=s("42HU");var r=function(t){s("bDPn")},n=s("VU/8")(a.a,i.a,!1,r,"data-v-15536501",null);e.a=n.exports},"9M+g":function(t,e){},Fs8J:function(t,e,s){"use strict";var a=s("7QTI"),i=s("Tqaz"),r=s("vw73");e.a={components:{Poster:a.a,BIcon:i.c,BIconArrowClockwise:i.d,BIconSearch:i.e,BIconX:i.f},data:()=>({posters:null,wss:null,search:"",categories:[],filterOnline:!1,filterEntry:"any",catFilter:[]}),watch:{search(){this.applyFilter()},filterOnline(){this.applyFilter()},filterEntry(){this.applyFilter()},catFilter(){this.applyFilter()}},mounted(){this.loadData().then(()=>{this.wss=new r.a("wss://dev1.soichi.us/ohbm2020/"),this.wss.onopen=(()=>{this.wss.send(JSON.stringify({action:"dump"}))}),this.wss.onmessage=(t=>{let e=JSON.parse(t.data);if(e.dump)for(let t in e.dump){this.posters.find(e=>e.number==t).people=e.dump[t]}if(e.update){let t=this.posters.find(t=>t.number==e.update.id),s=t.people;t.people=e.update.count,0==s&&t.people>0&&this.applyFilter(),s>0&&0==t.people&&this.applyFilter()}})}),window.addEventListener("scroll",this.checkVisibility),window.addEventListener("resize",this.checkVisibility)},destroyed(){window.removeEventListener("scroll",this.checkVisibility),window.removeEventListener("resize",this.checkVisibility)},methods:{addToken(t){this.search+=" "+t},addCat(t){this.catFilter.push(t)},clear(){this.search="",this.filterOnline=!1,this.filterEntry="any",this.catFilter=[]},checkVisibility(t){let e=new Set;this.$refs.poster.forEach(t=>{let s=t.$el.offsetTop,a=t.$el.offsetHeight;(s>window.scrollY&&s<window.scrollY+window.innerHeight||s+a>window.scrollY&&s+a<window.scrollY+window.innerHeight)&&e.add(t.data.number)}),this.posters.forEach(t=>{e.has(t.number)&&(t.visible=!0)})},async loadData(){let t=await fetch("//datalad-datasets.github.io/ohbm2020-posters/posters.json"),e=await t.json();e.posters.forEach(t=>{t.videochat=null}),t=await fetch("//datalad-datasets.github.io/ohbm2020-posters/posters-overrides.json"),(await t.json()).posters.forEach(t=>{let s=e.posters.find(e=>e.number==t.number);Object.assign(s,t)}),e.posters.forEach(t=>{t.people=0,t.categories.includes("<br>")&&(t.categories=t.categories.split("<br>")),t.categories.includes(",")&&(t.categories=t.categories.split(",")),t.categories=t.categories.filter(t=>""!=t),t.isDemo="x"==t["software-demo"],Array.isArray(t.institution)||(t.institution=[t.institution]),t.match=!0,t.visible=!1,t.pdf&&t.pdf.startsWith("https://github.com/")&&t.pdf.includes("/raw/")&&(t.pdf=t.pdf.replace("https://github.com/","https://raw.githack.com/"),t.pdf=t.pdf.replace("raw/master","master"))}),this.categories=[],e.posters.forEach(t=>{t.categories.forEach(t=>{this.categories.includes(t)||this.categories.push(t)})}),this.categories.sort(),this.posters=e.posters,this.$nextTick(()=>{this.checkVisibility()})},applyFilter(){if(!this.posters)return;let t;""!=this.search.trim()&&(t=this.search.trim().toLowerCase().split(" ")),this.posters.forEach(e=>{e.match=function(e){if(this.filterOnline&&0==e.people)return!1;if("demo"==this.filterEntry&&!e.isDemo)return!1;if("nondemo"==this.filterEntry&&e.isDemo)return!1;let s=e.title.toLowerCase(),a=e.institution.toString().toLowerCase(),i=e.presenter.toLowerCase(),r=e.categories.toString().toLowerCase(),n=e.authors.toString().toLowerCase();for(let t of this.catFilter)if(!e.categories.includes(t))return!1;if(t){for(let o of t)if(e.number!=o&&!s.includes(o)&&!(a.includes(o)||i.includes(o)||r.includes(o)||n.includes(o)))return!1;return!0}return!0}.call(this,e)}),this.$nextTick(()=>{this.checkVisibility()})}},computed:{}}},M93x:function(t,e,s){"use strict";var a=s("xJD8"),i=s("xgj6");var r=function(t){s("Xc18")},n=s("VU/8")(a.a,i.a,!1,r,null,null);e.a=n.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("Tqaz"),r=s("M93x"),n=s("YaEn"),o=s("qb6w"),c=(s.n(o),s("9M+g")),l=(s.n(c),s("AXdl")),d=s("T1ft"),h=s.n(d),u=s("R870");s.n(u);a.default.use(i.a),a.default.use(i.b),a.default.use(l.a),a.default.component("v-select",h.a),a.default.config.productionTip=!1,new a.default({el:"#app",template:"<App/>",components:{App:r.a},router:n.a,data:()=>({thumbsUrl:"//datalad-datasets.github.io/ohbm2020-posters-thumbnails/thumbs"}),mounted(){}})},R870:function(t,e){},RO1E:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"room",class:{showpad:t.showpad}},[s("div",{attrs:{id:"meet"}}),t._v(" "),s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.showpad,expression:"showpad"}],attrs:{id:"pad",src:"//etherpad.wikimedia.org/p/"+t.$route.params.name,frameBorder:"0"}}),t._v(" "),s("div",{attrs:{id:"toggler"},on:{click:t.togglePad}},[t._v("NOTE \n        "),t.showpad?s("b-icon-arrow-down"):t._e(),t._v(" "),t.showpad?t._e():s("b-icon-arrow-up")],1)])},staticRenderFns:[]};e.a=a},Xc18:function(t,e){},Y07D:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("div",{staticClass:"header"},[a("a",{attrs:{href:"https://brainlife.io"}},[a("img",{staticClass:"brainlifelogo",attrs:{src:s("lli3"),align:"right",width:"75px"}})]),t._v(" "),a("a",{attrs:{href:"http://www.datalad.org"}},[a("img",{attrs:{src:s("+U6v"),align:"right",width:"75px"}})]),t._v(" "),a("h1",[a("b",[t._v("OHBM2020 Posters")])]),t._v(" "),a("p",[t._v("\n                Centralized registry of Jitsi audio-video conference rooms per each poster or software demo of OHBM 2020.\n            ")])]),t._v(" "),a("div",{staticClass:"instruction"},[a("p",[t._v('\n            For every poster there is a dedicated Jitsi room, which would open in a "dedicated" new window/tab.\n            Please search by poster number, keywords, names, etc.\n            Posters with non-0 people on the video chat are shown with a persistent "online" counts. The counts are approximate and count only people attending through this page.\n            More info, sources, issues, PRs: '),a("a",{attrs:{href:"https://github.com/datalad-datasets/ohbm2020-posters"}},[t._v("https://github.com/datalad-datasets/ohbm2020-posters")]),t._v(".\n            ")]),t._v(" "),a("p",[t._v("\n                Alternative interfaces: "),a("a",{attrs:{href:"https://brain-web.github.io/ohbm2020/"}},[t._v("BrainWeb")]),t._v(" - interactive posters map. "),a("a",{attrs:{href:"index_orig.html"}},[t._v("Old Version")])])]),t._v(" "),a("div",{staticClass:"search"},[a("b-icon",{staticClass:"searchicon",attrs:{icon:"search","aria-hidden":"true",scale:"1.5"}}),t._v(" "),a("b-icon",{staticClass:"clearicon",attrs:{icon:"x","aria-hidden":"true",scale:"2",title:"Clear Filters"},on:{click:t.clear}}),t._v(" "),a("b-form-input",{attrs:{placeholder:"Search Posters / Demos",debounce:"500"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("div",{staticClass:"adsearch"},[a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Also Filter By"}},[a("b-form-checkbox",{model:{value:t.filterOnline,callback:function(e){t.filterOnline=e},expression:"filterOnline"}},[t._v("Only show entries with someone on the video chat")])],1)],1),t._v(" "),a("b-col",[a("b-form-group",{attrs:{label:"Entry Type"}},[a("b-form-radio-group",{model:{value:t.filterEntry,callback:function(e){t.filterEntry=e},expression:"filterEntry"}},[a("b-form-radio",{attrs:{value:"any"}},[t._v("Any")]),t._v(" "),a("b-form-radio",{attrs:{value:"demo"}},[t._v("Software Demo")]),t._v(" "),a("b-form-radio",{attrs:{value:"nondemo"}},[t._v("Non Demo")])],1)],1)],1),t._v(" "),a("b-col",[a("b-form-group",{attrs:{label:"Categories"}},[a("v-select",{staticStyle:{"background-color":"white"},attrs:{multiple:"",options:t.categories},model:{value:t.catFilter,callback:function(e){t.catFilter=e},expression:"catFilter"}})],1)],1)],1)],1)],1),t._v(" "),t.posters?t._e():a("p",{staticClass:"loading"},[t._v("Loading.. "),a("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin","font-scale":"1"}})],1)]),t._v(" "),a("b-container",{attrs:{fluid:""}},[t.posters?a("div",{staticClass:"side"}):t._e(),t._v(" "),a("div",{staticClass:"content"},[t.posters?a("div",t._l(t.posters,function(e){return a("poster",{key:e.number,ref:"poster",refInFor:!0,attrs:{data:e},on:{addCat:t.addCat,addToken:t.addToken}})}),1):t._e()])]),t._v(" "),t.posters?a("b-container",[a("br",{attrs:{clear:"all"}}),t._v(" "),a("p",{staticStyle:{margin:"10px",padding:"10px","border-top":"1px solid #0001",opacity:"0.5"}},[t._v("\n            Showing "+t._s(t.posters.filter(function(t){return t.match}).length)+" entires")])]):t._e()],1)},staticRenderFns:[]};e.a=a},YaEn:function(t,e,s){"use strict";var a=s("7+uW"),i=s("/ocq"),r=s("lO7g"),n=s("t3u0");a.default.use(i.a),e.a=new i.a({routes:[{path:"/",name:"Home",component:r.a},{path:"/room/:number/:name",name:"Room",component:n.a}]})},aJWY:function(t,e){},bDPn:function(t,e){},cTcK:function(t,e,s){"use strict";s("7+uW");let a={};e.a={props:["data"],methods:{catColor(t){if(a[t])return a[t];let e=t.split("").reduce(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t},0),s="hsl("+Math.abs(e+120)%360%360+", 50%, 56%)";return a[t]=s,s},openChat(){let t="ohbm2020-"+this.data.number;this.data.videochat&&(t=this.data.videochat),this.data.videochat&&this.data.videochat.startsWith("http")?window.open(this.data.videochat,t):window.open("#/room/"+this.data.number+"/"+t,t)},addToken(t){this.$emit("addToken",t)},addCat(t){this.$emit("addCat",t)}},data:()=>({}),mounted(){}}},"k+1V":function(t,e){},lO7g:function(t,e,s){"use strict";var a=s("Fs8J"),i=s("Y07D");var r=function(t){s("aJWY")},n=s("VU/8")(a.a,i.a,!1,r,"data-v-771dce54",null);e.a=n.exports},lli3:function(t,e,s){t.exports=s.p+"static/img/brainlife_logo2.f675471.png"},qb6w:function(t,e){},t3u0:function(t,e,s){"use strict";var a=s("xLEQ"),i=s("RO1E");var r=function(t){s("k+1V")},n=s("VU/8")(a.a,i.a,!1,r,"data-v-d1a690d4",null);e.a=n.exports},xJD8:function(t,e,s){"use strict";s("7+uW");e.a={name:"app"}},xLEQ:function(t,e,s){"use strict";var a=s("vw73");s("7+uW");e.a={props:[],data(){return{number:this.$route.params.number,cid:null,wss:null,api:null,timer:null,showpad:!0}},mounted(){this.api=new JitsiMeetExternalAPI("meet.jit.si",{roomName:this.$route.params.name,parentNode:document.querySelector("#meet")}),this.api.addEventListener("videoConferenceJoined",t=>{this.cid="datalad."+t.id,this.wss=new a.a("wss://dev1.soichi.us/ohbm2020/"),this.wss.onopen=(()=>{this.sendCount(),this.timer=setInterval(this.sendCount,3e4)})}),this.api.addEventListener("readyToClose",this.sendClose),window.addEventListener("beforeunload",this.sendClose)},methods:{togglePad(){this.showpad=!this.showpad},sendCount(){let t=this.api.getNumberOfParticipants();this.wss.send(JSON.stringify({action:"jit",id:this.number,cid:this.cid,realCount:t}))},sendClose(){clearInterval(this.timer),this.wss.send(JSON.stringify({action:"jitclose",id:this.number,cid:this.cid}))}}}},xgj6:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("div",{staticClass:"fluid-container footer"})])}]};e.a=a}},["NHnr"]);